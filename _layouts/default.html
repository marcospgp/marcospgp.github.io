<!DOCTYPE html>
<html lang="{{ page.lang | default: site.lang | default: 'en' }}">

{% include head.html %}

<body>

  <br>
  <br>
  <br>
  <br>

  <h1>
    <a href="{{ '/' | relative_url }}" class="title-link">{{ site.title }}</a>
  </h1>

  <div>
    <a class="fa title-link" href="https://x.com/{{ site.twitter_username }}" aria-label="X">
      <i class="fa-fw fa-brands fa-x-twitter"></i>
    </a>
    <a class="fa title-link" href="https://github.com/{{ site.github_username }}" aria-label="github">
      <i class="fa-fw fa-brands fa-github"></i>
    </a>
    <a class="fa title-link" href="{{ '/feed.xml' | relative_url }}" aria-label="RSS feed">
      <i class="fa-fw fa-solid fa-rss"></i>
    </a>
  </div>

  <br>

  {% assign default_paths = site.pages | map: "path" %}
  {% assign page_paths = site.header_pages | default: default_paths %}

  {% for path in page_paths %}

  {% assign item = site.pages | where: "path", path | first %}

  {% if page.title == item.title %}
  <h3>
    <a class="title-link active" href="{{ item.url | relative_url }}">{{ item.title }}</a>
  </h3>
  {% else %}
  <h3>
    <a class="title-link" href="{{ item.url | relative_url }}">{{ item.title }}</a>
  </h3>
  {% endif %}

  {% endfor %}

  <br>
  <hr>
  <br>

  <div>
    {% if page.path contains '_posts' %}
    <div class="post-header">
      <h1 class="page-title" style="text-transform: capitalize">
        {{ page.title }}
      </h1>
      <span class="post-meta">{{ page.date | date: site.date_format }}</span><br />
      {% if page.update_date %}
      <span class="post-meta">Updated: {{ page.update_date | date: site.date_format }}</span>
      <br>
      {% endif %}
      <span class="post-meta">
        {% assign minutes = content | strip_html | number_of_words | divided_by: 180 %}
        {% if minutes == 0 %} {% assign minutes = 1 %} {% endif %}
        {{ minutes }} minute read
      </span>
    </div>
    {% endif %}

    {% comment %}
    This Table of Contents block makes use of the Hierarchical TOC Generator
    plugin created by ChatGPT.
    It inserts a TOC for pages unless 'table_of_contents' is explicitly set to
    false in the front matter.
    {% endcomment %}
    {% if page.table_of_contents != false %}
    <div class="table-of-contents">
      {{ content | table_of_contents | safe }}
    </div>
    {% endif %}

    <div>{{ content }}</div>
  </div>

  <br>
  <hr>
  <br>

  <h3>
    <a class="title-link" href="#">Back to top</a>
  </h3>

  <br>

  <!-- AnchorJS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/5.0.0/anchor.min.js"></script>
  <script>
    anchors.options.visible = 'always';
    anchors.add('article h2, article h3, article h4, article h5, article h6');
  </script>
</body>

</html>
