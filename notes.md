---
layout: page
title: Notes
---

This is where I keep notes for things I keep revisiting throughout my work. Entries are sorted alphabetically.

---

# General development

## Email

When setting up an email account, make sure to [enable SPF, DKIM, and DMARC](https://support.google.com/a/answer/10583557?sjid=7080635252494889890-EU) to properly authenticate messages and help prevent outgoing email from being marked as spam. Use <https://www.dmarctester.com> to test this.

When sending email through a third party SMTP service for a Google Workspace account, "Allow per-user outbound gateways" must be enabled in the admin panel to avoid email being silently rejected.

## Git

### Commit without a message

`git add -A && git commit --allow-empty-message -m '' && git push`

### Submodules

Git submodules are a nice way of setting up project dependencies.

You can add a dependency into a repo by running:

`git submodule add https://github.com/marcospgp/steamworksnt.git <target-folder>`

If using Unity, it may be a good idea to place submodules in the `Assets` folder.

To update dependencies or download them after a fresh `git clone`, use:

`git submodule update --init --recursive --merge --remote`

# Unity game dev

## Analyzers

As of 2023-10-06, and since a new Unity extension for VSCode has been released, there is no official way to support adding Roslyn analyzers for C# code (perhaps other than reverting to using Omnisharp).

There should be an [official way](https://docs.unity3d.com/2023.3/Documentation/Manual/roslyn-analyzers.html) of adding these directly in the Unity editor, but I was [unsuccessful](https://forum.unity.com/threads/support-roslyn-analyzers-in-unity-projects.927437/page-2#post-9386087) in doing so.

I may revisit this later, but at this point it might be wiser to wait for the VSCode extension to become more mature.

## Animations

### Importing

- "bake into pose" root transform changes that shouldn't be applied to the gameobject on each animation.

### Mixamo

Downloading animations "without skin" prevents wasting memory with unnecessary models.
However, the avatar generated by Unity for these won't work properly.
That can be fixed by downloading the default Mixamo character (Y Bot) in T-pose and generating an avatar from it, which can then be used with "without skin" Mixamo animations.

### Movement without foot sliding

See {% post_link 2023-12-02-unity-foot-sliding %}.

## Blender

### Settings

- Disable saving `.blend1` files

### Unity interop

- Store `.blend` files directly inside the Unity project's "Assets" folder
- There doesn't seem to be a way to store textures in `.blend` file, so keep them in "Assets" folder and use them in both Blender and Unity

## Color banding

[Fix color banding](https://forum.unity.com/threads/horrible-color-banding-for-lighting-fog.912368/#post-9386285) by checking "enable dithering" in the camera inspector.

## LODs

- Only the last LOD matters
- Impostors > LOD meshes
- Advancements like Nanite can change 3D lore fast

Based on <https://medium.com/@jasonbooth_86226/when-to-make-lods-c3109c35b802>

## Math

### Frame rate independent lerp

Use a [frame rate independent](https://marcospereira.me/2022/08/24/lerp-how-to-frame-rate-independent/) form of linear interpolation instead of the default `Mathf.Lerp()`.

Ready to use code should be available in the [Unity utilities repo](https://github.com/marcospgp/unity-utilities).

## Multithreading

Use the `SafeTask` wrapper:

- <https://github.com/marcospgp/unity-utilities/blob/main/Async/SafeTask.cs>
- <https://marcospereira.me/2022/05/06/safe-async-tasks-in-unity/>

## Procedural generation

Call [MarkDynamic](https://docs.unity3d.com/ScriptReference/Mesh.MarkDynamic.html) on meshes that are updated frequently at runtime.

## Utilities repo

<https://github.com/marcospgp/unity-utilities>
