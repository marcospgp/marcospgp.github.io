{% assign posts_count = paginator.posts | size %}

<h1>Highlighted</h1>

<div class="posts">
  {% for post in site.posts %}
    {% if post.highlight %}
      {% include post.html post=post %}
    {% endif %}
  {% endfor %}
</div>

<h1>Chronology</h1>

{% comment %}
Browse by tag. Requires pagination to be enabled.
{% endcomment %}
{% if page.pagination.enabled %}
<nav>
  {% if page.pagination.tag %}
    <a class="nav-link" href="{{ "/" | relative_url }}">All Posts</a>&nbsp;
  {% else %}
    <a class="nav-active" href="{{ "/" | relative_url }}">All Posts</a>&nbsp;
  {% endif %}

  {% assign tags = site.tags | sort %}

  {% for tag in tags %}
    {% if page.pagination.tag == tag[0] %}

      <a class="nav-active" href="{{ '/tags/' | append: tag[0] | relative_url }}">
        {{tag[0] | replace: ' ', '&nbsp;'}}
      </a>&nbsp;

    {% else %}

      <a class="nav-link" href="{{ '/tags/' | append: tag[0] | relative_url }}">
        {{tag[0] | replace: ' ', '&nbsp;'}}
      </a>&nbsp;

    {% endif %}
  {% endfor %}
</nav>
{% endif %}

<div class="posts">
  {% for post in paginator.posts %}
    {% include post.html post=post %}
  {% endfor %}
</div>

{% if paginator.total_pages > 1 %}
<div class="pagination">
  <div>
    {% if paginator.previous_page %}
      {% if paginator.page == 2 %}
        <a class="pagination-item" href="{{ "/" | relative_url }}">Previous</a>
      {% else %}
        <a class="pagination-item" href="{{ paginator.previous_page_path | relative_url }}">Previous</a>
      {% endif %}
    {% else %}
      <span class="pagination-item disabled">Previous</span>
    {% endif %}
  </div>
  <div class="pagination-text">Page {{ paginator.page }} of {{ paginator.total_pages }}</div>
  <div>
    {% if paginator.next_page %}
      <a class="pagination-item" href="{{ paginator.next_page_path | relative_url }}">Next</a>
    {% else %}
      <span class="pagination-item disabled">Next</span>
    {% endif %}
  </div>
</div>
{% endif %}
